<div class="agenda-dashboard">
  <!-- Coluna do calendÃ¡rio -->
  <div class="calendar-section">
    <div class="calendar-header">
      <button mat-icon-button (click)="previousMonth()">
        <mat-icon>chevron_left</mat-icon>
      </button>

      <h3>{{ currentMonth | date:'MMMM yyyy' | titlecase }}</h3>

      <button mat-icon-button (click)="nextMonth()">
        <mat-icon>chevron_right</mat-icon>
      </button>
    </div>

    <div class="calendar-grid">
      <div class="calendar-day header" *ngFor="let h of weekDays">{{ h }}</div>

      <div
        *ngFor="let day of days"
        class="calendar-day"
        [class.today]="isToday(day.date)"
        [class.selected]="selectedDate?.getTime() === day.date?.getTime()"
        [class.inactive]="day.isOtherMonth"
        (click)="selectDay(day.date)"
      >
        <span>{{ day.number }}</span>
        <div
          class="event-dot"
          *ngIf="day.hasEvents"
          [style.background]="day.eventColor"
        ></div>
      </div>
    </div>
  </div>

  <!-- Coluna da agenda -->
  <div class="schedule-section">
    <h3>Agenda - {{ selectedDate | date:'dd/MM/yyyy' }}</h3>

    <div *ngIf="filteredEvents.length; else empty">
      <div *ngFor="let e of filteredEvents" class="event-card">
        <div class="event-date">
          <strong>{{ e.date | date:'dd' }}</strong>
          <small>{{ e.date | date:'MMM' }}</small>
        </div>
        <div class="event-info">
          <h4>{{ e.title }}</h4>
          <p>{{ e.time }}</p>
        </div>
      </div>
    </div>

    <ng-template #empty>
      <p class="empty-text">Nenhum agendamento para este dia.</p>
    </ng-template>
  </div>
</div>
